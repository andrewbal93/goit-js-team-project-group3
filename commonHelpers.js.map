{"version":3,"file":"commonHelpers.js","sources":["../src/js/modalAddRemove.js","../src/js/header.js"],"sourcesContent":["\n// import{fetchBookById, fetchBooksCategory, fetchAllTopBooks, fetchBooksBySelectedCategory} from './request';\n\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    const openModalLink = document.querySelector('.open-modal');\n    const modal = document.querySelector('.modal');\n    const closeModalButton = modal.querySelector('.modal-close');\n    const addToShoppingListButton = modal.querySelector('.add-to-list');\n    const backdrop = modal.querySelector('.modal-body');\n\n    // Open modal\n    openModalLink.addEventListener('click', function () {\n        modal.classList.add('open');\n        document.body.style.overflow = 'hidden'; // Заборона прокрутки фону\n    });\n\n    // Close modal\n    const closeModal = function () {\n        modal.classList.remove('open');\n        document.body.style.overflow = ''; // Відновлення прокрутки фону\n    };\n\n    closeModalButton.addEventListener('click', closeModal);\n    backdrop.addEventListener('click', closeModal);\n\n    document.addEventListener('keydown', function (event) {\n        if (event.key === 'Escape') {\n            closeModal();\n        }\n    });\n\n    // Add to / Remove from shopping list\n    shoppingListButton.addEventListener('click', function () {\n        // Оновлюємо інформацію про список в localStorage\n        let shoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];\n        const bookTitle = modal.querySelector('.book-title').textContent;\n\n        if (shoppingList.includes(bookTitle)) {\n            shoppingList = shoppingList.filter(item => item !== bookTitle);\n        } else {\n            shoppingList.push(bookTitle);\n        }\n\n        localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n\n        // Оновлюємо текст кнопки в модалці\n        updateShoppingListButton(shoppingList);\n    });\n\n    // Функція для оновлення тексту кнопки відповідно до стану списку\n    function updateShoppingListButton(shoppingList) {\n        const bookTitle = modal.querySelector('.book-title').textContent;\n        const isBookInList = shoppingList.includes(bookTitle);\n\n        if (isBookInList) {\n            shoppingListButton.textContent = 'Remove from the shopping list';\n        } else {\n            shoppingListButton.textContent = 'Add to shopping list';\n        }\n    }\n\n    // Ініціалізація тексту кнопки при завантаженні сторінки\n    const initialShoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];\n    updateShoppingListButton(initialShoppingList);\n});\n\n\n","// Theme switcher\ndocument.addEventListener('DOMContentLoaded', (event) => {\n  \n  // change the theme\n  const toggleSwitch = document.getElementById('theme-toggle');\n  toggleSwitch.addEventListener('change', () => {\n    if (toggleSwitch.checked) {\n      document.body.classList.add('dark-theme');\n    } else {\n      document.body.classList.remove('dark-theme');\n    }\n  });\n\n\n  // change the color of the switch\n  const themeToggle = document.getElementById('theme-toggle');\n  const themeToggleLabel = document.getElementById('theme-toggle-label');\n  themeToggle.addEventListener('change', () => {\n    if (themeToggle.checked) {\n      themeToggleLabel.classList.remove('light-theme');\n      themeToggleLabel.classList.add('dark-theme');\n    } else {\n      themeToggleLabel.classList.remove('dark-theme');\n      themeToggleLabel.classList.add('light-theme');\n    }\n  });\n});\n\n\n"],"names":["openModalLink","modal","closeModalButton","backdrop","closeModal","event","shoppingList","bookTitle","item","updateShoppingListButton","initialShoppingList","toggleSwitch","themeToggle","themeToggleLabel"],"mappings":"oDAKA,SAAS,iBAAiB,mBAAoB,UAAY,CACtD,MAAMA,EAAgB,SAAS,cAAc,aAAa,EACpDC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAmBD,EAAM,cAAc,cAAc,EAC3BA,EAAM,cAAc,cAAc,EAClE,MAAME,EAAWF,EAAM,cAAc,aAAa,EAGlDD,EAAc,iBAAiB,QAAS,UAAY,CAChDC,EAAM,UAAU,IAAI,MAAM,EAC1B,SAAS,KAAK,MAAM,SAAW,QACvC,CAAK,EAGD,MAAMG,EAAa,UAAY,CAC3BH,EAAM,UAAU,OAAO,MAAM,EAC7B,SAAS,KAAK,MAAM,SAAW,EACvC,EAEIC,EAAiB,iBAAiB,QAASE,CAAU,EACrDD,EAAS,iBAAiB,QAASC,CAAU,EAE7C,SAAS,iBAAiB,UAAW,SAAUC,EAAO,CAC9CA,EAAM,MAAQ,UACdD,GAEZ,CAAK,EAGD,mBAAmB,iBAAiB,QAAS,UAAY,CAErD,IAAIE,EAAe,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,GAAK,GACvE,MAAMC,EAAYN,EAAM,cAAc,aAAa,EAAE,YAEjDK,EAAa,SAASC,CAAS,EAC/BD,EAAeA,EAAa,OAAOE,GAAQA,IAASD,CAAS,EAE7DD,EAAa,KAAKC,CAAS,EAG/B,aAAa,QAAQ,eAAgB,KAAK,UAAUD,CAAY,CAAC,EAGjEG,EAAyBH,CAAY,CAC7C,CAAK,EAGD,SAASG,EAAyBH,EAAc,CAC5C,MAAMC,EAAYN,EAAM,cAAc,aAAa,EAAE,YAChCK,EAAa,SAASC,CAAS,EAGhD,mBAAmB,YAAc,gCAEjC,mBAAmB,YAAc,sBAExC,CAGD,MAAMG,EAAsB,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,GAAK,GAChFD,EAAyBC,CAAmB,CAChD,CAAC,ECjED,SAAS,iBAAiB,mBAAqBL,GAAU,CAGvD,MAAMM,EAAe,SAAS,eAAe,cAAc,EAC3DA,EAAa,iBAAiB,SAAU,IAAM,CACxCA,EAAa,QACf,SAAS,KAAK,UAAU,IAAI,YAAY,EAExC,SAAS,KAAK,UAAU,OAAO,YAAY,CAEjD,CAAG,EAID,MAAMC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAmB,SAAS,eAAe,oBAAoB,EACrED,EAAY,iBAAiB,SAAU,IAAM,CACvCA,EAAY,SACdC,EAAiB,UAAU,OAAO,aAAa,EAC/CA,EAAiB,UAAU,IAAI,YAAY,IAE3CA,EAAiB,UAAU,OAAO,YAAY,EAC9CA,EAAiB,UAAU,IAAI,aAAa,EAElD,CAAG,CACH,CAAC"}