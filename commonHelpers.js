/* empty css                      */import{a as l,N as E}from"./assets/vendor-77e6b4aa.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();l.defaults.baseURL="https://books-backend.p.goit.global/";async function k(){return(await l.get("/books/category-list")).data}async function L(){return(await l.get("/books/top-books")).data}async function v(e){return(await l.get(`/books/category?category=${e}`)).data}async function B(e){return(await l.get(`/books/${e}`)).data}L();function M(e,t){const o=t===0?"mobile-visible":"",s=t<3?"tablet-visible":"",n=t<5?"desktop-visible":"";return`

  <li id="${e._id}" class="listener" onclick="openModal('${e._id}')">
        <div class="book-category-card ${o} ${s} ${n}">

        <img class="bookByCategory-img" src="${e.book_image}" alt="${e.title}">
        <div class="book-category-details">
          <h3 class="book-category-title">${e.title}</h3>
          <p class="book-category-author">${e.author}</p>
        </div>
      </div>
    </li>
  `}function T(e,t){const o=document.querySelector(`.book-category[data-category="${e}"] .books-category-list`);if(o){const s=t.map((n,r)=>M(n,r)).join("");o.innerHTML=s}}function _(){L().then(e=>{e.forEach(t=>{T(t.list_name,t.books)})}).catch(e=>console.error("Помилка при завантаженні категорій книг:",e))}function $(e){const t=document.createElement("div");t.className="book-category",t.setAttribute("data-category",e);const o=document.createElement("div");o.className="category-title";const s=document.createElement("span");s.textContent=e.toUpperCase(),o.appendChild(s);const n=document.createElement("div");n.className="books";const r=document.createElement("ul");r.className="books-category-list",n.appendChild(r);const i=document.createElement("button");return i.id=e.replace(/\s+/g,"_"),i.classList.add("see-more"),i.textContent="SEE MORE",t.appendChild(o),t.appendChild(n),t.appendChild(i),t}function q(){const e=document.querySelector(".best-sellers-list");k().then(t=>{t.forEach(o=>{const s=$(o.list_name);e.appendChild(s)})}).catch(t=>console.error("Error loading books:",t))}document.addEventListener("DOMContentLoaded",()=>{q(),_()});const A=document.querySelector(".category-list-container");k().then(e=>e.map(t=>`<li class="category-list-item">
    <button class="category-btn" type="button">
      ${t.list_name}
    </button>
  </li>`).join("")).then(e=>A.insertAdjacentHTML("afterbegin",e));const N=document.querySelector(".category-btn");N.addEventListener("click",I);function I(e){console.log(e)}document.addEventListener("DOMContentLoaded",e=>{const t=document.getElementById("theme-toggle");t.addEventListener("change",()=>{t.checked?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")});const o=document.getElementById("theme-toggle"),s=document.getElementById("theme-toggle-label");o.addEventListener("change",()=>{o.checked?(s.classList.remove("light-theme"),s.classList.add("dark-theme")):(s.classList.remove("dark-theme"),s.classList.add("light-theme"))})});document.addEventListener("DOMContentLoaded",e=>{const t=document.getElementById("theme-toggle"),o=document.getElementById("theme-toggle-label");localStorage.getItem("theme")==="dark"&&(document.body.classList.add("dark-theme"),t.checked=!0,o.classList.remove("light-theme"),o.classList.add("dark-theme")),t.addEventListener("change",()=>{t.checked?(document.body.classList.add("dark-theme"),o.classList.remove("light-theme"),o.classList.add("dark-theme"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark-theme"),o.classList.remove("dark-theme"),o.classList.add("light-theme"),localStorage.setItem("theme","light"))})});function O(){var e=window.location.pathname,t=document.querySelectorAll(".nav-list li a");t.forEach(function(o){o.parentNode.classList.remove("nav-bar-active"),(o.getAttribute("href")===`..${e}`||o.getAttribute("href")===`.${e}`||o.getAttribute("href")===`${e}`)&&o.parentNode.classList.add("nav-bar-active")})}window.addEventListener("DOMContentLoaded",O);const c=document.querySelector(".foundations-list"),x=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"./img/supportsLogo/support_9.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"./img/supportsLogo/support_1.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"./img/supportsLogo/support_2.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"./img/supportsLogo/support_3.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"./img/supportsLogo/support_4.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"./img/supportsLogo/support_5.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"./img/supportsLogo/support_6.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"./img/supportsLogo/support_7.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"./img/supportsLogo/support_8.png"}],H=x.map((e,t,o)=>` <li class="support-foundation">
      <span>0${t+1}</span>
     <a href="${e.url}" target="_blank"> <img class="foundation-logo" src="${e.img}" alt="${e.title}"></a>
    </li>`).join("");c.insertAdjacentHTML("afterbegin",H);const u=document.querySelector(".support-slider-button");u.addEventListener("click",D);let d=!1;u.innerHTML='  <svg with="20" height="20"><use href="./img/sprite.svg#icon-down-arrow"></use></svg>';function D(){if(!d&&(c.scrollBy(0,300),c.scrollTop+c.offsetHeight>=c.scrollHeight)){u.innerHTML='  <svg with="20" height="20"><use href="./img/sprite.svg#icon-up-arrow"></use></svg>',d=!0;return}if(d&&(c.scrollBy(0,-300),c.scrollTop===0)){u.innerHTML='  <svg with="20" height="20"><use href="./img/sprite.svg#icon-down-arrow"></use></svg>',d=!1;return}}window.openModal=j;const a=document.querySelector(".modal");async function j(e){B(e).then(t=>{a.setAttribute("data-book",JSON.stringify(t)),F(t)}).catch(t=>{E.Notify.failure("Помилка при отриманні даних про книгу:")}),a.classList.add("open"),document.body.style.overflow="hidden"}const P=a.querySelector(".modal-body"),z=a.querySelector(".modal-close"),h=function(){a.classList.remove("open"),document.body.style.overflow="",console.log()};z.addEventListener("click",h);P.addEventListener("click",h);document.addEventListener("keydown",function(e){e.key==="Escape"&&h()});const m=a.querySelector(".add-to-list"),J=a.querySelector(".under-btn-text");m.addEventListener("click",function(e){e.stopPropagation();const t=JSON.parse(a.getAttribute("data-book"));let o=JSON.parse(localStorage.getItem("shoppingList"))||[];o.includes(t._id)?o=o.filter(n=>n!==t._id):o.push(t),localStorage.setItem("shoppingList",JSON.stringify(o));const s=S(o);J.style.display=s?"block":"none"});function S(e){const t=a.querySelector(".book-title").textContent,o=e.includes(t);return o?m.textContent="Remove from the shopping list":m.textContent="Add to shopping list",o}const R=JSON.parse(localStorage.getItem("shoppingList"))||[];S(R);function F(e){var f,y;const t=document.querySelector(".book-cover"),o=document.querySelector(".book-title"),s=document.querySelector(".book-author"),n=document.querySelector(".book-description"),r=document.querySelector(".marketplace-logo.amazon"),i=document.querySelector(".marketplace-logo.apple-books");t.src=e.book_image,t.alt=e.title,o.textContent=e.title,s.textContent=e.author,n.textContent=e.description||"No description available",r.href=((f=e.buy_links.find(g=>g.name==="Amazon"))==null?void 0:f.url)||"",i.href=((y=e.buy_links.find(g=>g.name==="Apple Books"))==null?void 0:y.url)||""}const U=document.querySelector(".category-list-container"),p=document.querySelector(".best-sellers-list"),b=document.querySelector(".bestselllersTitle");U.addEventListener("click",V);function V(e){const t=e.target.textContent.trim();v(t).then(o=>{w(o),C(o[0].list_name)}).catch(o=>{console.error("Error loading books:",o)})}function w(e){p.innerHTML="",e.forEach(t=>{p.innerHTML+=W(t)}),p.classList.add("books-list")}function W({title:e,author:t,book_image:o}){return`<div class="book-category">
             <div class="books">
               <ul class="books-category-list">
                 <li class="listener">
                   <div class="book-category-card mobile-visible tablet-visible">
                     <img class='bookByCategory-img' src="${o}" alt="${e}" />
                     <div class="book-category-details">
                       <h3 class="book-category-title">${e}</h3>
                       <p class="book-category-author">${t}</p>
                     </div>
                   </div>
                 </li>
               </ul>
             </div>
           </div>`}function C(e){b.textContent=e,K(b)}function K(e){let t=e.textContent.trim().split(" ");if(t.length>1){let o=t.pop();e.innerHTML=t.join(" ")+' <span class="last-word">'+o+"</span>"}}function Z(e){v(e).then(t=>{w(t),C(t[0].list_name)}).catch(t=>{console.error("Error loading books:",t)})}document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("click",function(e){e.target.classList.contains("see-more")&&Z(e.target.id.replace(/_/g," "))})});
//# sourceMappingURL=commonHelpers.js.map
