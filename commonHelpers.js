/* empty css                      */import{a as l,N as w}from"./assets/vendor-77e6b4aa.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();l.defaults.baseURL="https://books-backend.p.goit.global/";async function k(){return(await l.get("/books/category-list")).data}async function L(){return(await l.get("/books/top-books")).data}async function S(t){return(await l.get(`/books/category?category=${t}`)).data}async function C(t){return(await l.get(`/books/${t}`)).data}L();function E(t,e){const o=e===0?"mobile-visible":"",s=e<3?"tablet-visible":"",n=e<5?"desktop-visible":"";return`

  <li id="${t._id}" class="listener" onclick="openModal('${t._id}')">
        <div class="book-category-card ${o} ${s} ${n}">

        <img class="bookByCategory-img" src="${t.book_image}" alt="${t.title}">
        <div class="book-category-details">
          <h3 class="book-category-title">${t.title}</h3>
          <p class="book-category-author">${t.author}</p>
        </div>
      </div>
    </li>
  `}function B(t,e){const o=document.querySelector(`.book-category[data-category="${t}"] .books-category-list`);if(o){const s=e.map((n,i)=>E(n,i)).join("");o.innerHTML=s}}function M(){L().then(t=>{t.forEach(e=>{B(e.list_name,e.books)})}).catch(t=>console.error("Помилка при завантаженні категорій книг:",t))}function $(t){const e=document.createElement("div");e.className="book-category",e.setAttribute("data-category",t);const o=document.createElement("div");o.className="category-title";const s=document.createElement("span");s.textContent=t.toUpperCase(),o.appendChild(s);const n=document.createElement("div");n.className="books";const i=document.createElement("ul");i.className="books-category-list",n.appendChild(i);const r=document.createElement("button");return r.className="see-more",r.textContent="SEE MORE",e.appendChild(o),e.appendChild(n),e.appendChild(r),e}function _(){const t=document.querySelector(".best-sellers-list");k().then(e=>{e.forEach(o=>{const s=$(o.list_name);t.appendChild(s)})}).catch(e=>console.error("Error loading books:",e))}document.addEventListener("DOMContentLoaded",_);document.addEventListener("DOMContentLoaded",M);const q=document.querySelector(".category-list-container");k().then(t=>t.map(e=>`<li class="category-list-item">
    <button class="category-btn" type="button">
      ${e.list_name}
    </button>
  </li>`).join("")).then(t=>q.insertAdjacentHTML("afterbegin",t));const T=document.querySelector(".category-btn");T.addEventListener("click",A);function A(t){console.log(t)}document.addEventListener("DOMContentLoaded",t=>{const e=document.getElementById("theme-toggle");e.addEventListener("change",()=>{e.checked?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")});const o=document.getElementById("theme-toggle"),s=document.getElementById("theme-toggle-label");o.addEventListener("change",()=>{o.checked?(s.classList.remove("light-theme"),s.classList.add("dark-theme")):(s.classList.remove("dark-theme"),s.classList.add("light-theme"))})});function N(){var t=window.location.pathname,e=document.querySelectorAll(".nav-list li a");e.forEach(function(o){o.parentNode.classList.remove("nav-bar-active"),(o.getAttribute("href")===`..${t}`||o.getAttribute("href")===`.${t}`||o.getAttribute("href")===`${t}`)&&o.parentNode.classList.add("nav-bar-active")})}window.addEventListener("DOMContentLoaded",N);const c=document.querySelector(".foundations-list"),O=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"./img/supportsLogo/support_9.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"./img/supportsLogo/support_1.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"./img/supportsLogo/support_2.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"./img/supportsLogo/support_3.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"./img/supportsLogo/support_4.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"./img/supportsLogo/support_5.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"./img/supportsLogo/support_6.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"./img/supportsLogo/support_7.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"./img/supportsLogo/support_8.png"}],x=O.map((t,e,o)=>` <li class="support-foundation">
      <span>0${e+1}</span>
     <a href="${t.url}" target="_blank"> <img class="foundation-logo" src="${t.img}" alt="${t.title}"></a>
    </li>`).join("");c.insertAdjacentHTML("afterbegin",x);const u=document.querySelector(".support-slider-button");u.addEventListener("click",H);let d=!1;u.innerHTML='  <svg with="20" height="20"><use href="./img/sprite.svg#icon-down-arrow"></use></svg>';function H(){if(!d&&(c.scrollBy(0,300),c.scrollTop+c.offsetHeight>=c.scrollHeight)){u.innerHTML='  <svg with="20" height="20"><use href="./img/sprite.svg#icon-up-arrow"></use></svg>',d=!0;return}if(d&&(c.scrollBy(0,-300),c.scrollTop===0)){u.innerHTML='  <svg with="20" height="20"><use href="./img/sprite.svg#icon-down-arrow"></use></svg>',d=!1;return}}window.openModal=I;const a=document.querySelector(".modal");async function I(t){C(t).then(e=>{a.setAttribute("data-book",JSON.stringify(e)),J(e)}).catch(e=>{w.Notify.failure("Помилка при отриманні даних про книгу:")}),a.classList.add("open"),document.body.style.overflow="hidden"}const D=a.querySelector(".modal-body"),j=a.querySelector(".modal-close"),h=function(){a.classList.remove("open"),document.body.style.overflow="",console.log()};j.addEventListener("click",h);D.addEventListener("click",h);document.addEventListener("keydown",function(t){t.key==="Escape"&&h()});const m=a.querySelector(".add-to-list"),P=a.querySelector(".under-btn-text");m.addEventListener("click",function(t){t.stopPropagation();const e=JSON.parse(a.getAttribute("data-book"));let o=JSON.parse(localStorage.getItem("shoppingList"))||[];o.includes(e._id)?o=o.filter(n=>n!==e._id):o.push(e),localStorage.setItem("shoppingList",JSON.stringify(o));const s=v(o);P.style.display=s?"block":"none"});function v(t){const e=a.querySelector(".book-title").textContent,o=t.includes(e);return o?m.textContent="Remove from the shopping list":m.textContent="Add to shopping list",o}const z=JSON.parse(localStorage.getItem("shoppingList"))||[];v(z);function J(t){var f,y;const e=document.querySelector(".book-cover"),o=document.querySelector(".book-title"),s=document.querySelector(".book-author"),n=document.querySelector(".book-description"),i=document.querySelector(".marketplace-logo.amazon"),r=document.querySelector(".marketplace-logo.apple-books");e.src=t.book_image,e.alt=t.title,o.textContent=t.title,s.textContent=t.author,n.textContent=t.description||"No description available",i.href=((f=t.buy_links.find(p=>p.name==="Amazon"))==null?void 0:f.url)||"",r.href=((y=t.buy_links.find(p=>p.name==="Apple Books"))==null?void 0:y.url)||""}const R=document.querySelector(".category-list-container"),g=document.querySelector(".best-sellers-list"),b=document.querySelector(".bestselllersTitle");R.addEventListener("click",F);function F(t){const e=t.target.textContent.trim();S(e).then(o=>{U(o),W(o[0].list_name)}).catch(o=>{console.error("Error loading books:",o)})}function U(t){g.innerHTML="",t.forEach(e=>{g.innerHTML+=V(e)}),g.classList.add("books-list")}function V({title:t,author:e,book_image:o}){return`<div class="book-category">
             <div class="books">
               <ul class="books-category-list">
                 <li id="${book._id}" class="listener" onclick="openModal('${book._id}')">
                   <div class="book-category-card mobile-visible tablet-visible">
                     <img class='bookByCategory-img' src="${o}" alt="${t}" />
                     <div class="book-category-details">
                       <h3 class="book-category-title">${t}</h3>
                       <p class="book-category-author">${e}</p>
                     </div>
                   </div>
                 </li>
               </ul>
             </div>
           </div>`}function W(t){b.textContent=t,K(b)}function K(t){let e=t.textContent.trim().split(" ");if(e.length>1){let o=e.pop();t.innerHTML=e.join(" ")+' <span class="last-word">'+o+"</span>"}}
//# sourceMappingURL=commonHelpers.js.map
